{% extends 'default/accueil.html.twig' %}
{% block title %}Statistiques des offres{% endblock %}
{% block heading %}Statistiques des offres{% endblock %}
{% block scripts %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
	google.charts.load('current', {'packages':['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {

    	var data = google.visualization.arrayToDataTable([
    		['Formation', 'Nombre d\'offre'],
    	  {% for stat in stats1 %}
    	  	['{{ stat.nom }}',     {{ stat.nombre }}],
		  {% endfor %}
        ]);

        var options = {
          title: 'Statistique des formations les plus offertes'
        };

        var data2 = google.visualization.arrayToDataTable([
    		['Partenaire', 'Nombre d\'offre'],
    	  {% for stat in stats2 %}
    	  	['{{ stat.nom }}',     {{ stat.nombre }}],
		  {% endfor %}
        ]);

        var options2 = {
          title: 'Statistique des partenaires offrant le plus d\'offre'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        var chart2 = new google.visualization.PieChart(document.getElementById('piechart2'));
		chart.draw(data, options);
		chart2.draw(data2, options2);
    }
</script>
{% endblock %}
{% block body %}
    <a href="{{ path('accueil') }}" class="btn btn-warning">Retour</a>
	<div id="piechart" style="width: 900px; height: 500px;"></div>
	<div id="piechart2" style="width: 900px; height: 500px;"></div>
{% endblock %}