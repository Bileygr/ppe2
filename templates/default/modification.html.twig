{% extends 'default/accueil.html.twig' %}
{% block title %}Modifier vos informations{% endblock %}
{% block heading %}
    {% if app.request.get('_route') == 'administrateur_modification' or app.request.get('_route') == 'jeune_modification'%}
        Vos informations
    {% elseif app.request.get('_route') == 'administrateur_modification_d_un_administrateur' %}
        Modifier les informations de cet utilisateur
    {% endif %}
{% endblock %}
{% block body %}
    {% if app.request.get('_route') == 'administrateur_modification' or app.request.get('_route') == 'jeune_modification' or app.request.get('_route') == 'administrateur_modification_d_un_administrateur' or app.request.get('_route') == 'jeune_modification_d_un_jeune' %}
        {{ form_start(registrationForm) }}
    		<div class="form-group">
                <label>Nom</label>
                {{ form_widget(registrationForm.nom, {'attr' : {'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Prénom</label>
                {{ form_widget(registrationForm.prenom, {'attr' : {'class' : 'form-control' }}) }}
            </div>

            {% if is_granted('ROLE_JEUNE') and is_granted("ROLE_ADMINISTRATEUR") == false and is_granted("ROLE_SUPER_ADMINISTRATEUR") == false %}
                <div class="form-group">
                    <label>Mot de passe</label>
                    {{ form_widget(registrationForm.motdepasse, {'attr': {'placeholder': 'Mot de passe', 'class' : 'form-control'}}) }}
                </div>
            {% elseif app.request.get('_route') == 'administrateur_modification'%}
                <div class="form-group">
                    <label>Mot de passe</label>
                    {{ form_widget(registrationForm.motdepasse, {'attr': {'placeholder': 'Mot de passe', 'class' : 'form-control'}}) }}
                </div>
            {% elseif is_granted("ROLE_SUPER_ADMINISTRATEUR") == true and app.request.get('_route') == 'administrateur_modification_d_un_administrateur'%}
                <div class="form-group">
                    {{ form_widget(registrationForm.motdepasse, {'attr': {'value': administrateur.password,'placeholder': 'Mot de passe', 'hidden': 'hidden', 'class' : 'form-control'}}) }}
                </div>
            {% elseif app.request.get('_route') == 'jeune_modification_d_un_jeune'%}
                <div class="form-group">
                    {{ form_widget(registrationForm.motdepasse, {'attr': {'value': jeune.password, 'placeholder': 'Mot de passe', 'hidden': 'hidden', 'class' : 'form-control'}}) }}
                </div>
            {% endif %}

            <div class="form-group">
                <label>Téléphone</label>
                {{ form_widget(registrationForm.telephone, {'attr': {'placeholder': 'Téléphone', 'class': 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Email</label>
                {{ form_widget(registrationForm.email, {'attr': {'placeholder': 'Email', 'class': 'form-control' }}) }}
            </div>

            <div class="form-group">
                <label>Adresse</label>
                {{ form_widget(registrationForm.adresse, {'attr': {'placeholder': 'Adresse', 'class': 'form-control' }}) }}
            </div>

            <div class="form-group">
                <label>Ville</label>
                {{ form_widget(registrationForm.ville, {'attr': {'placeholder': 'Ville', 'class': 'form-control' }}) }}
            </div>

            <div class="form-group">
                <label>Code postal</label>
                {{ form_widget(registrationForm.codepostal, {'attr': {'placeholder': 'Code postal', 'class': 'form-control' }}) }}
            </div>

            {% if is_granted('ROLE_SUPER_ADMINISTRATEUR')%}
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="ROLE_SUPER_ADMINISTRATEUR" name="super_admin" id="super_admin"
                    {% if administrateur.roles|join(', ') == 'ROLE_SUPER_ADMINISTRATEUR' %}
                        checked
                    {% endif %}
                  >
                  <label class="form-check-label" for="super_admin">
                    Super Administrateur
                  </label>
                </div>
            {% endif %}

    		{{ form_widget(registrationForm.inscription, {'label': 'Modifier', 'attr': {'class': 'btn btn-primary', 'placeholder': 'Modifier'}}) }}
  		{{ form_end(registrationForm) }}
    {% elseif app.request.get('_route') == 'partenaire_modification' %}
        {{ form_start(form) }}
            <div class="form-group">
                <label>SIRET</label>
                {{ form_widget(form.siret, {'attr': {'placeholder': partenaire.siret, 'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Nom</label>
                {{ form_widget(form.nom, {'attr': {'placeholder': partenaire.nom, 'class' : 'form-control'}}) }}
            </div>                  

            {% if is_granted('ROLE_PARTENAIRE') and is_granted("ROLE_ADMINISTRATEUR") == false and is_granted("ROLE_SUPER_ADMINISTRATEUR") == false %}
                <div class="form-group">
                    <label>Mot de passe</label>
                    {{ form_widget(form.motdepasse, {'disabled': 'disabled', 'attr': {'placeholder': 'Mot de passe', 'class' : 'form-control'}}) }}
                </div>
            {% else %}
                <div class="form-group">
                    {{ form_widget(form.motdepasse, {'attr': {'value': partenaire.password, 'placeholder': 'Mot de passe', 'hidden': 'hidden', 'class' : 'form-control'}}) }}
                </div>
            {% endif %}

            <div class="form-group">
                <label>Téléphone</label>
                {{ form_widget(form.telephone, {'attr': {'placeholder': partenaire.telephone, 'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Email</label>
                {{ form_widget(form.email, {'attr': {'placeholder': partenaire.email, 'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Adresseadresse</label>
                {{ form_widget(form.adresse, {'attr': {'placeholder': partenaire.adresse, 'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Ville</label>
                {{ form_widget(form.ville, {'attr': {'placeholder': partenaire.ville, 'class' : 'form-control'}}) }}
            </div>

            <div class="form-group">
                <label>Code postal</label>
                {{ form_widget(form.codepostal, {'attr': {'placeholder': partenaire.codepostal, 'class' : 'form-control'}}) }}
            </div>

            {{ form_widget(form.inscription, {'label': 'Modifier', 'attr': {'class': 'btn btn-primary'}}) }}
        {{ form_end(form) }}
    {% endif %}
{% endblock %}